#! /usr/bin/env tclsh

source $::env(HOME)/bin/lib.tcl

# presumes socklog on void

set what daemon

proc usage {} {
  global ME
  return "Usage: $ME \[?|a_ll|d_aemon|de_b_ug|e_rrors|k_ernel|m_essages|s_ecure]"
}

switch -- [lindex $::argv 0] {
  ? - -? - h - -h - help - -help - --help {
    puts [usage]
    exit
  }
  a - all         { set what everything }
  {} - d - daemon {}
  b - debug       { set what debug }
  e - errors      { set what errors }
  k - kernel      { set what kernel }
  m - messages    { set what messages }
  s - secure      { set what secure }
  default { fail [usage] nome }
}

exec cat /var/log/socklog/$what/current >/dev/tty | less

