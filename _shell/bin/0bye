#! /usr/bin/env tclsh

source "$::env(HOME)/bin/lib.tcl"

need 0temper pkill swaylock swaymsg

set arg [lindex $::argv 0]
switch -- $arg {
  logout - sleep - reboot - shutdown {
    exec 0temper
    exec pkill pulseaudio
  }
}

switch -- $arg {
  lock     { exec swaylock }
  logout   { exec swaymsg exit }
  sleep    { exec sudo zzz }
  reboot   { exec sudo reboot }
  shutdown { exec sudo halt }
}

